name: Run SA-MP Server - LexusRP

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  start-server:
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ Ú©Ù„ÙˆÙ† Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø§Ø² Ø±ÛŒÙ¾Ùˆ
      uses: actions/checkout@v3

    - name: ğŸ“¦ Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙØ§ÛŒÙ„ LexusRP.zip
      run: unzip -o LexusRP.zip -d LexusRP

    - name: âš™ï¸ Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Û³Û²Ø¨ÛŒØªÛŒ
      run: |
        sudo apt update
        sudo apt install -y lib32z1 lib32gcc-s1

    - name: ğŸ§· Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø¬Ø±Ø§ÛŒÛŒ Ø¨Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø³Ø±ÙˆØ±
      run: |
        cd LexusRP/LexusRP
        chmod +x samp03svr
        chmod +x announce
        chmod +x startup.sh

    - name: ğŸš€ Ø§Ø¬Ø±Ø§ÛŒ Ø³Ø±ÙˆØ±
      run: |
        cd LexusRP/LexusRP
        ./startup.sh &
        sleep 10
        echo "âœ… Ø³Ø±ÙˆØ± Ø§Ø¬Ø±Ø§ Ø´Ø¯ â€” Ø¨Ø±Ø±Ø³ÛŒ IP: LexusRP.DuckDNS.org:7777"
